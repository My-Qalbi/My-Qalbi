<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Eternal Love</title>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:ital@1&family=Dancing+Script:wght@700&family=Montserrat:wght@200;400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --neon-pink: #ff2d75;
      --gold: #d4af37;
      --glass: rgba(10, 10, 10, 0.7);
    }

    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: #000;
      font-family: 'Montserrat', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      color: white;
      touch-action: none;
    }

    /* Animated Heart Particles Background (clickable) */
    #heart-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
      pointer-events: auto;
      overflow: hidden;
    }

    .heart {
      position: absolute;
      color: var(--neon-pink);
      filter: drop-shadow(0 0 10px var(--neon-pink));
      animation: moveUp linear forwards;
      opacity: 0;
      will-change: transform, opacity;
      user-select: none;
      pointer-events: auto;
      cursor: pointer;
    }

    @keyframes moveUp {
      0% { transform: translateY(110vh) rotate(0deg) scale(0.5); opacity: 0; }
      20% { opacity: 0.7; }
      100% { transform: translateY(-20vh) rotate(360deg) scale(1.2); opacity: 0; }
    }

    /* Pop text animation (Mailu/Chellakutty/Prangun) */
    .pop-love {
      position: fixed;
      z-index: 9999;
      font-family: 'Dancing Script', cursive;
      font-size: 28px;
      color: var(--gold);
      text-shadow:
        0 0 12px rgba(212,175,55,.55),
        0 0 18px rgba(255,45,117,.35);
      transform: translate(-50%, -50%) scale(.9);
      opacity: 0;
      animation: popLove .95s ease forwards;
      pointer-events: none;
      white-space: nowrap;
      letter-spacing: .2px;
    }

    @keyframes popLove {
      0%   { opacity:0; transform: translate(-50%, -50%) scale(.85) translateY(10px); }
      25%  { opacity:1; transform: translate(-50%, -50%) scale(1.14) translateY(0); }
      70%  { opacity:.95; }
      100% { opacity:0; transform: translate(-50%, -50%) scale(1.02) translateY(-26px); }
    }

    /* Sparkle trail */
    .sparkle {
      position: fixed;
      left: 0; top: 0;
      width: 10px; height: 10px;
      border-radius: 999px;
      pointer-events: none;
      z-index: 9998;
      opacity: 0;
      transform: translate(-50%, -50%) scale(.6);
      animation: sparkleFloat .85s ease-out forwards;
      will-change: transform, opacity;
      box-shadow:
        0 0 10px rgba(212,175,55,.55),
        0 0 18px rgba(255,45,117,.25);
      background: radial-gradient(circle at 30% 30%, #fff, var(--gold));
    }

    @keyframes sparkleFloat {
      0%   { opacity:0; transform: translate(-50%, -50%) scale(.5) translateY(6px); }
      20%  { opacity:1; }
      100% { opacity:0; transform: translate(-50%, -50%) scale(1.15) translateY(-26px); }
    }

    /* âœ… Shake-to-reveal badge */
    .shakeBadge{
      position: fixed;
      bottom: 18px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 20;
      background: rgba(0,0,0,.55);
      border: 1px solid rgba(212,175,55,.25);
      backdrop-filter: blur(10px);
      padding: 10px 14px;
      border-radius: 999px;
      font-size: 12px;
      letter-spacing: 1px;
      color: rgba(255,255,255,.88);
      box-shadow: 0 0 22px rgba(255,45,117,.18);
      user-select:none;
    }
    .shakeBadge b{ color: var(--gold); }

    /* Premium Card */
    .card {
      position: relative;
      z-index: 10;
      width: 90%;
      max-width: 420px;
      padding: 40px;
      background: var(--glass);
      backdrop-filter: blur(25px);
      border: 1.5px solid rgba(212, 175, 55, 0.3);
      border-radius: 40px;
      text-align: center;
      box-shadow: 0 0 50px rgba(255, 45, 117, 0.2);
      transition: transform 0.12s ease-out;
      transform-style: preserve-3d;
      will-change: transform;
    }

    /* Gold Decorative Corners */
    .card::before, .card::after {
      content: "âœ§";
      position: absolute;
      color: var(--gold);
      font-size: 24px;
      text-shadow: 0 0 12px rgba(212,175,55,.25);
    }
    .card::before { top: 20px; left: 20px; }
    .card::after { bottom: 20px; right: 20px; }

    .profile-wrapper {
      position: relative;
      width: 160px;
      height: 160px;
      margin: 0 auto 20px;
    }

    .profile-wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 50%;
      border: 3px solid var(--gold);
      padding: 5px;
      box-shadow: 0 0 25px var(--neon-pink);
      display: block;
      background: rgba(255,255,255,.06);
    }

    h1 {
      font-family: 'Amiri', serif;
      font-size: 3rem;
      color: var(--gold);
      margin: 10px 0;
      text-shadow: 0 0 15px rgba(212, 175, 55, 0.4);
    }

    .divider {
      height: 1px;
      width: 60%;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
      margin: 15px auto;
    }

    .message {
      font-weight: 200;
      letter-spacing: 1px;
      line-height: 1.6;
      font-style: italic;
      color: #eee;
    }

    .btn-premium {
      margin-top: 30px;
      background: transparent;
      color: var(--gold);
      border: 1px solid var(--gold);
      padding: 12px 40px;
      border-radius: 100px;
      cursor: pointer;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 3px;
      transition: 0.5s;
      position: relative;
      overflow: hidden;
    }

    .btn-premium:hover {
      background: var(--gold);
      color: black;
      box-shadow: 0 0 30px var(--gold);
    }

    #hidden-area {
      display: none;
      margin-top: 25px;
      animation: slideUp 1s ease forwards;
    }

    /* âœ… Extra hidden message (shake unlock) */
    #shake-secret{
      display:none;
      margin-top: 16px;
      padding: 14px 16px;
      border-radius: 22px;
      border: 1px solid rgba(212,175,55,.22);
      background: rgba(0,0,0,.45);
      box-shadow: 0 0 22px rgba(212,175,55,.08);
      animation: slideUp 0.8s ease forwards;
    }
    #shake-secret .t1{
      font-family: 'Dancing Script', cursive;
      font-size: 26px;
      color: var(--gold);
      margin: 0 0 6px;
      text-shadow: 0 0 14px rgba(212,175,55,.30);
    }
    #shake-secret .t2{
      font-size: 13px;
      color: rgba(255,255,255,.86);
      margin:0;
      letter-spacing:.4px;
      line-height:1.5;
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .arabic-text {
      font-family: 'Amiri', serif;
      font-size: 1.5rem;
      color: var(--gold);
    }

    @media (prefers-reduced-motion: reduce) {
      .heart { animation: none; display: none; }
      .card { transition: none; }
      .pop-love { animation: none; }
      .sparkle { display: none; }
      .shakeBadge { display:none; }
    }
  </style>
</head>

<body>
  <div id="heart-container"></div>

  <div class="card" id="card">
    <div class="profile-wrapper">
      <img id="heroImg"
           src="https://i.pinimg.com/736x/8d/f3/d3/8df3d31481b2c454e95d5c7f89b917c0.jpg"
           alt="Anime Couple">
    </div>

    <p style="font-size: 0.7rem; letter-spacing: 4px; color: var(--neon-pink);">HABIBI</p>
    <h1>ÙŠØ§ Ø­Ø¨ÙŠØ¨ÙŠ</h1>
    <div class="divider"></div>

    <p class="message">
      "In every heartbeat, I find another reason to love you. You are my universe, my peace, and my forever."
    </p>

    <button class="btn-premium" id="revealBtn" onclick="reveal()">Discover My Soul</button>

    <div id="hidden-area">
      <p class="arabic-text">Ø£Ø­Ø¨Ùƒ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¨Ø¯</p>
      <p style="color: var(--neon-pink); font-family: 'Dancing Script', cursive; font-size: 1.8rem;">
        Always yours, Forever.
      </p>

      <!-- âœ… Shake-to-reveal secret -->
      <div id="shake-secret">
        <p class="t1">Shhhâ€¦ secret unlocked ðŸ’–</p>
        <p class="t2">If youâ€™re reading this, it means you shook the phone. Iâ€™m smiling right now ðŸ˜„</p>
      </div>
    </div>
  </div>

  <div class="shakeBadge" id="shakeBadge">ðŸ“± <b>Shake</b> the phone for one more secret</div>

  <script>
    // -----------------------------
    // Smooth Tilt Effect (fixed)
    // -----------------------------
    const card = document.getElementById('card');

    function applyTilt(clientX, clientY){
      const rect = card.getBoundingClientRect();
      const cx = rect.left + rect.width/2;
      const cy = rect.top + rect.height/2;

      const dx = (clientX - cx) / (rect.width/2);
      const dy = (clientY - cy) / (rect.height/2);

      const max = 10;
      const rotY = dx * max;
      const rotX = -dy * max;

      card.style.transform = `rotateY(${rotY}deg) rotateX(${rotX}deg)`;
    }

    window.addEventListener('mousemove', (e) => {
      applyTilt(e.clientX, e.clientY);
    }, { passive:true });

    window.addEventListener('touchmove', (e) => {
      if(!e.touches || !e.touches[0]) return;
      applyTilt(e.touches[0].clientX, e.touches[0].clientY);
    }, { passive:true });

    window.addEventListener('mouseleave', () => {
      card.style.transform = 'rotateY(0deg) rotateX(0deg)';
    });

    // -----------------------------
    // Sparkle Cursor Trail
    // -----------------------------
    const SPARKLE_MAX = 80;
    const SPARKLE_MS = 32;
    let lastSparkle = 0;

    function spawnSparkle(x, y){
      const existing = document.querySelectorAll('.sparkle');
      if(existing.length >= SPARKLE_MAX) existing[0].remove();

      const s = document.createElement('div');
      s.className = 'sparkle';
      s.style.left = x + 'px';
      s.style.top = y + 'px';

      const size = Math.random() * 8 + 6;
      s.style.width = size + 'px';
      s.style.height = size + 'px';

      const glow = Math.random() * 0.35 + 0.25;
      s.style.boxShadow =
        `0 0 10px rgba(212,175,55,${glow}),
         0 0 18px rgba(255,45,117,${glow * 0.6})`;

      document.body.appendChild(s);
      s.addEventListener('animationend', () => s.remove());
    }

    function handleSparkleMove(x, y){
      const now = performance.now();
      if(now - lastSparkle < SPARKLE_MS) return;
      lastSparkle = now;
      spawnSparkle(x, y);
    }

    window.addEventListener('mousemove', (e) => {
      handleSparkleMove(e.clientX, e.clientY);
    }, { passive:true });

    window.addEventListener('touchmove', (e) => {
      const t = e.touches && e.touches[0];
      if(!t) return;
      handleSparkleMove(t.clientX, t.clientY);
    }, { passive:true });

    // -----------------------------
    // Click heart => random petname
    // -----------------------------
    const LOVE_WORDS = ["Mailu", "Chellakutty", "Prangun"];

    function showLoveWord(x, y){
      const pop = document.createElement("div");
      pop.className = "pop-love";
      pop.textContent = LOVE_WORDS[Math.floor(Math.random() * LOVE_WORDS.length)];
      pop.style.left = x + "px";
      pop.style.top = y + "px";
      document.body.appendChild(pop);
      setTimeout(() => pop.remove(), 950);
    }

    // -----------------------------
    // Hearts (perf + clickable)
    // -----------------------------
    const container = document.getElementById('heart-container');
    const colors = ['#ff2d75', '#ff758c', '#d4af37'];

    const MAX_HEARTS = 80;
    const SPAWN_EVERY_MS = 260;
    let lastSpawn = 0;

    function createHeart() {
      if(container.childElementCount >= MAX_HEARTS) return;

      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.textContent = 'â¤';

      const size = Math.random() * 25 + 10;
      heart.style.fontSize = size + 'px';
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = (Math.random() * 3 + 5) + 's';
      heart.style.color = colors[Math.floor(Math.random() * colors.length)];

      heart.addEventListener("pointerdown", (e) => {
        e.stopPropagation();
        showLoveWord(e.clientX, e.clientY);
      }, { passive:true });

      container.appendChild(heart);
      heart.addEventListener('animationend', () => heart.remove());
    }

    function loop(ts){
      if(!document.hidden){
        if(ts - lastSpawn > SPAWN_EVERY_MS){
          createHeart();
          lastSpawn = ts;
        }
      }
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);

    // -----------------------------
    // Reveal main hidden area
    // -----------------------------
    function reveal() {
      const hidden = document.getElementById('hidden-area');
      const btn = document.getElementById('revealBtn');
      if(hidden.style.display === 'block') return;

      hidden.style.display = 'block';
      btn.style.display = 'none';

      // show shake hint only after reveal
      document.getElementById('shakeBadge').style.display = 'block';
    }

    // -----------------------------
    // âœ… Shake to reveal secret (mobile)
    // -----------------------------
    const shakeSecret = document.getElementById('shake-secret');
    const shakeBadge = document.getElementById('shakeBadge');
    let shakeUnlocked = false;

    // Shake detection tuning
    const SHAKE_THRESHOLD = 16;     // higher => needs stronger shake
    const COOLDOWN_MS = 1200;

    let lastShake = 0;

    function vibrate(ms){
      if(navigator.vibrate) navigator.vibrate(ms);
    }

    function unlockByShake(){
      if(shakeUnlocked) return;
      shakeUnlocked = true;

      shakeSecret.style.display = 'block';
      shakeBadge.textContent = "âœ… Secret unlocked";
      vibrate([60,40,60,40,80]);

      // optional: auto hide badge after a bit
      setTimeout(() => {
        shakeBadge.style.display = 'none';
      }, 2500);
    }

    // iOS requires permission for devicemotion sometimes
    async function enableMotionIfNeeded(){
      if (typeof DeviceMotionEvent !== 'undefined' &&
          typeof DeviceMotionEvent.requestPermission === 'function') {
        try {
          const res = await DeviceMotionEvent.requestPermission();
          return res === 'granted';
        } catch {
          return false;
        }
      }
      return true;
    }

    // Ask permission on first user gesture (required on iOS)
    let motionEnabled = false;
    function onFirstGesture(){
      if(motionEnabled) return;
      enableMotionIfNeeded().then(ok => {
        motionEnabled = ok;
        // If denied, badge message
        if(!ok){
          shakeBadge.textContent = "âš ï¸ Motion permission denied";
        }
      });
      window.removeEventListener('pointerdown', onFirstGesture);
    }
    window.addEventListener('pointerdown', onFirstGesture, { passive:true });

    window.addEventListener('devicemotion', (e) => {
      // only meaningful after reveal
      const hidden = document.getElementById('hidden-area');
      if(hidden.style.display !== 'block') return;

      const now = Date.now();
      if(now - lastShake < COOLDOWN_MS) return;

      const a = e.accelerationIncludingGravity;
      if(!a) return;

      const x = a.x || 0, y = a.y || 0, z = a.z || 0;
      const mag = Math.sqrt(x*x + y*y + z*z);

      // basic shake detect
      if(mag > SHAKE_THRESHOLD){
        lastShake = now;
        unlockByShake();
      }
    });

    // -----------------------------
    // Image fallback
    // -----------------------------
    const heroImg = document.getElementById('heroImg');
    heroImg.addEventListener('error', () => {
      heroImg.style.display = 'none';
      const wrapper = heroImg.parentElement;
      wrapper.style.borderRadius = '50%';
      wrapper.style.background = 'rgba(255,255,255,.06)';
      wrapper.style.boxShadow = '0 0 25px rgba(255,45,117,.35)';
    });

    // Start with badge hidden until reveal
    document.getElementById('shakeBadge').style.display = 'none';
  </script>
</body>
</html>
